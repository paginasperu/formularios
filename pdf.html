<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Catálogo A4</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
        }

        body { font-family: 'Segoe UI', sans-serif; background: #f4f7f6; margin: 0; padding: 20px; }

        /* Panel de Control (No se imprime) */
        .controls {
            background: white; padding: 20px; border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            max-width: 800px; margin: 0 auto 30px auto;
            display: flex; gap: 15px; align-items: center;
        }

        /* Estilos del "Papel" A4 */
        #catalog-page {
            background: white;
            width: 210mm;
            min-height: 297mm;
            margin: 0 auto;
            padding: 15mm;
            box-sizing: border-box;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }

        .header { text-align: center; border-bottom: 2px solid var(--primary-color); padding-bottom: 10px; margin-bottom: 20px; }

        /* Grid de Productos */
        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }

        .product-card {
            border: 1px solid #eee; padding: 15px; border-radius: 5px;
            display: flex; flex-direction: column; gap: 5px;
        }

        .product-name { font-weight: bold; color: var(--primary-color); font-size: 1.1em; }
        .product-price { color: var(--accent-color); font-weight: bold; }
        .product-desc { font-size: 0.9em; color: #666; }

        /* Botones */
        button {
            padding: 10px 20px; cursor: pointer; border: none; border-radius: 4px;
            background: var(--accent-color); color: white; font-weight: bold;
        }
        button:hover { opacity: 0.9; }
        .btn-pdf { background: #e74c3c; }

        @media print {
            .controls { display: none; }
            body { background: white; padding: 0; }
            #catalog-page { box-shadow: none; margin: 0; }
        }
    </style>
</head>
<body>

<div class="controls">
    <div>
        <label>Subir CSV: </label>
        <input type="file" id="csvFile" accept=".csv">
    </div>
    <button onclick="exportToPDF()" class="btn-pdf">Exportar a PDF (A4)</button>
</div>

<div id="catalog-page">
    <div class="header">
        <h1>Catálogo de Productos</h1>
        <p id="current-date"></p>
    </div>
    <div id="products-container" class="products-grid">
        <p>Carga un archivo CSV para ver los productos.</p>
    </div>
</div>

<script>
    // Establecer fecha actual
    document.getElementById('current-date').innerText = new Date().toLocaleDateString();

    // Lógica para procesar el CSV
    document.getElementById('csvFile').addEventListener('change', function(e) {
        const file = e.target.files[0];
        const reader = new FileReader();

        reader.onload = function(event) {
            const text = event.target.result;
            processData(text);
        };
        reader.readAsText(file);
    });

    function processData(csvText) {
        const lines = csvText.split('\n');
        const container = document.getElementById('products-container');
        container.innerHTML = ''; // Limpiar contenedor
